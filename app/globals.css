/* app/globals.css - V9 Ultra engaging romantic UI (Jar hearts + Vault + Cinematic Ending) */
@tailwind base;
@tailwind components;
@tailwind utilities;

:root{
  --accent:#ff6fa3;
  --accent-glow:#ff9bc7;
  --accent-2:#ffb77a;
  --bg-1:#fff7fb;
  --glass-border:rgba(255,255,255,0.18);
  --neon-glow:0 0 20px rgba(255,111,163,0.5);
  --card-shadow:0 25px 50px -12px rgba(0,0,0,0.15);
  --max-w:1200px;
  --font-sans:'Poppins',system-ui,-apple-system;
  --font-heading:'Playfair Display',Georgia,serif;
}

html,body,#__next{height:100%;}
body{
  font-family:var(--font-sans);
  background:
    radial-gradient(circle at 20% 20%, rgba(255,111,163,0.30), transparent 50%),
    radial-gradient(circle at 80% 10%, rgba(255,183,122,0.25), transparent 50%),
    linear-gradient(180deg, var(--bg-1), #fff);
  color:#121217;
  -webkit-font-smoothing:antialiased;
}

.theme-dark body{
  background:
    radial-gradient(circle at 20% 20%, rgba(255,111,163,0.18), transparent 55%),
    radial-gradient(circle at 80% 10%, rgba(255,183,122,0.12), transparent 55%),
    linear-gradient(180deg, #0b0b12, #0b0b12);
  color:#fff;
}

.pro-root{min-height:100vh;display:flex;flex-direction:column;}
.pro-hero{
  max-width:var(--max-w);
  margin:28px auto;
  padding:26px;
  display:flex;
  gap:20px;
  align-items:center;
  justify-content:space-between;
  background:rgba(255,255,255,0.45);
  backdrop-filter:blur(20px);
  border-radius:24px;
  border:1px solid var(--glass-border);
  box-shadow:var(--card-shadow);
}
.pro-title{
  font-family:var(--font-heading);
  font-weight:900;
  letter-spacing:-0.6px;
  background:linear-gradient(135deg,var(--accent),var(--accent-glow));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  font-size:2.55rem;
  margin:0;
  text-shadow:var(--neon-glow);
}
.pro-sub{color:rgba(18,18,23,0.62);margin-top:8px;font-size:1.05rem;}

.hero-chips{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;}
.hero-chip{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 12px;border-radius:999px;
  font-size:12px;font-weight:900;
  background:rgba(255,111,163,0.10);
  border:1px solid rgba(255,111,163,0.18);
  color:rgba(111,20,48,0.86);
}
.hero-chip-on{background:rgba(255,183,122,0.12);border-color:rgba(255,183,122,0.22);}
.keys-pill{
  display:inline-flex;align-items:center;gap:6px;
  padding:6px 10px;border-radius:999px;
  background:rgba(255,255,255,0.10);
  border:1px solid rgba(255,255,255,0.14);
}

.mood-pill{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 12px;border-radius:18px;
  background:rgba(255,255,255,0.7);
  border:1px solid rgba(0,0,0,0.05);
}
.mood-select{background:transparent;outline:none;font-weight:800;font-size:12px;}
.vol-wrap input{width:110px;}

.btn-on{box-shadow:0 0 0 4px rgba(255,111,163,0.14);}

.intro-big{
  display:inline-flex;align-items:center;gap:10px;
  padding:14px 18px;border-radius:18px;
  font-weight:1000;color:#fff;
  background:linear-gradient(135deg,rgba(255,111,163,1),rgba(255,183,122,1));
  box-shadow:0 30px 80px rgba(255,111,163,0.22);
}

/* MAIN */
.pro-main{max-width:var(--max-w);margin:0 auto;padding:24px;}
.engage-grid{
  display:grid;grid-template-columns:1fr 1fr;
  gap:18px;margin-bottom:18px;
}
.engage-card{
  border-radius:24px;padding:18px;
  background:rgba(255,255,255,0.55);
  border:1px solid rgba(255,111,163,0.18);
  backdrop-filter:blur(24px);
  box-shadow:0 24px 60px rgba(0,0,0,0.10);
}
.engage-head{display:flex;justify-content:space-between;gap:14px;flex-wrap:wrap;}
.engage-title{font-weight:1000;display:flex;align-items:center;gap:8px;}
.engage-sub{font-size:12px;color:rgba(18,18,23,0.60);font-weight:800;}

/* LOVE JAR */
.jar-wrap{
  margin-top:14px;display:flex;gap:16px;align-items:center;
  padding:14px;border-radius:22px;
  background:linear-gradient(180deg,rgba(255,255,255,0.80),rgba(255,240,247,0.55));
  border:1px solid rgba(255,111,163,0.18);
}
.jar-pulse{animation:jarPulse 0.26s ease-out;}
@keyframes jarPulse{0%{transform:scale(1);}50%{transform:scale(1.02);}100%{transform:scale(1);}}
.jar-glass{
  width:92px;height:130px;
  border-radius:22px 22px 26px 26px;
  border:2px solid rgba(255,111,163,0.35);
  background:rgba(255,255,255,0.35);
  position:relative;overflow:hidden;
  box-shadow:inset 0 0 30px rgba(255,111,163,0.10);
}
.jar-with-canvas{position:relative;}
.jar-canvas{position:absolute;inset:0;z-index:3;pointer-events:none;}
.jar-liquid{
  position:absolute;left:0;right:0;bottom:0;z-index:2;
  background:linear-gradient(180deg,rgba(255,111,163,0.95),rgba(255,183,122,0.95));
  border-radius:18px;
}
.jar-shine{
  position:absolute;left:12px;top:10px;z-index:4;
  width:18px;height:70px;border-radius:999px;
  background:rgba(255,255,255,0.35);
}
.jar-info{display:flex;flex-direction:column;gap:4px;}
.jar-big{font-weight:1000;font-size:28px;color:rgba(111,20,48,0.92);}
.jar-small{font-size:12px;color:rgba(18,18,23,0.62);font-weight:800;}
.jar-actions{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;}
.jar-btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 12px;border-radius:16px;
  background:rgba(255,255,255,0.70);
  border:1px solid rgba(0,0,0,0.06);
  font-weight:1000;
  transition:transform .12s ease,box-shadow .12s ease;
}
.jar-btn:hover{transform:translateY(-2px);box-shadow:0 22px 70px rgba(0,0,0,0.12);}
.compliment-box{
  margin-top:12px;padding:12px;border-radius:18px;
  background:rgba(255,111,163,0.12);
  border:1px solid rgba(255,111,163,0.20);
  color:rgba(111,20,48,0.92);
  font-weight:900;
  display:flex;align-items:center;gap:10px;
}

/* MAP */
.map-track{margin-top:12px;display:flex;gap:12px;flex-wrap:wrap;}
.map-node{
  display:flex;align-items:center;gap:10px;
  padding:10px 12px;border-radius:999px;
  background:rgba(255,255,255,0.76);
  border:1px solid rgba(0,0,0,0.06);
  font-weight:1000;
}
.map-dot{
  width:10px;height:10px;border-radius:999px;
  background:linear-gradient(135deg,rgba(255,111,163,1),rgba(255,183,122,1));
  box-shadow:0 10px 30px rgba(255,111,163,0.25);
}

/* HIDDEN */
.hidden-section{
  margin:18px 0;padding:18px;border-radius:24px;
  background:rgba(255,255,255,0.55);
  border:1px solid rgba(255,111,163,0.18);
  backdrop-filter:blur(24px);
  box-shadow:0 24px 60px rgba(0,0,0,0.10);
}
.hidden-grid{margin-top:14px;display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
.hidden-card{
  border-radius:22px;padding:16px;background:rgba(255,255,255,0.70);
  border:1px solid rgba(0,0,0,0.06);
  font-weight:1000;text-align:left;
  transition:transform .12s ease,box-shadow .12s ease;
}
.hidden-card:hover{transform:translateY(-2px);box-shadow:0 26px 80px rgba(0,0,0,0.14);}
.hidden-open{background:rgba(255,111,163,0.12);border-color:rgba(255,111,163,0.18);}
.hidden-icon{font-size:26px;}
.hidden-desc{margin-top:6px;font-size:12px;color:rgba(18,18,23,0.60);font-weight:900;}
.hidden-page-title{font-weight:1000;font-size:18px;}
.hidden-page-body{margin-top:10px;color:rgba(18,18,23,0.72);font-weight:800;line-height:1.6;}
.hidden-stars{margin-top:10px;font-size:22px;letter-spacing:8px;}

/* Daily */
.daily-quote{
  margin-top:12px;padding:14px;border-radius:18px;
  background:linear-gradient(180deg,rgba(255,255,255,0.84),rgba(255,240,247,0.65));
  border:1px solid rgba(0,0,0,0.05);
  color:rgba(111,20,48,0.92);font-weight:900;line-height:1.55;
}
.daily-row{margin-top:12px;display:flex;justify-content:space-between;gap:12px;align-items:center;flex-wrap:wrap;}
.daily-btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 12px;border-radius:16px;
  background:linear-gradient(135deg,rgba(255,111,163,1),rgba(255,183,122,1));
  color:#fff;font-weight:1000;
  box-shadow:0 18px 40px rgba(255,111,163,0.18);
}
.daily-btn-done{background:rgba(0,0,0,0.08);color:rgba(18,18,23,0.7);}
.daily-streak{display:inline-flex;align-items:center;gap:8px;font-weight:1000;color:rgba(18,18,23,0.75);}

/* Bingo */
.bingo-grid{margin-top:12px;display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
.bingo-cell{
  min-height:64px;border-radius:16px;padding:10px;
  font-size:12px;font-weight:900;text-align:left;
  background:rgba(255,255,255,0.70);
  border:1px solid rgba(0,0,0,0.06);
  transition:transform .12s ease,box-shadow .12s ease;
}
.bingo-cell:hover{transform:translateY(-2px);box-shadow:0 18px 50px rgba(0,0,0,0.12);}
.bingo-checked{background:rgba(255,111,163,0.14);border-color:rgba(255,111,163,0.22);}
.bingo-win{margin-top:12px;font-weight:1000;padding:10px 12px;border-radius:16px;background:rgba(255,183,122,0.14);border:1px solid rgba(255,183,122,0.24);}

/* Grid */
.pro-grid{display:grid;grid-template-columns:2fr 1fr;gap:28px;align-items:start;}
.card{
  background:linear-gradient(145deg,rgba(255,255,255,0.9),rgba(255,250,252,0.72));
  backdrop-filter:blur(20px);
  border-radius:24px;
  box-shadow:var(--card-shadow);
  padding:22px;border:1px solid var(--glass-border);
  position:relative;overflow:hidden;
}
.gallery-stage{
  position:relative;border-radius:20px;overflow:hidden;
  height:clamp(320px,55vh,620px);
  background:linear-gradient(145deg,#fff,#fff8fb);
  display:flex;align-items:center;justify-content:center;
  box-shadow:inset 0 0 40px rgba(255,111,163,0.08);
  transition:all .35s ease;
}
.controls-floating{
  position:absolute;left:18px;bottom:18px;
  display:flex;gap:12px;align-items:center;
  backdrop-filter:blur(20px);
}
.controls-icon{
  background:rgba(255,255,255,0.95);
  padding:12px 14px;border-radius:16px;
  box-shadow:var(--card-shadow);
  transition:all .25s ease;
}
.controls-icon:hover{background:var(--accent);color:#fff;transform:translateY(-2px) scale(1.07);}

/* Captions */
.caption-overlay{position:absolute;left:0;right:0;bottom:72px;display:flex;justify-content:center;pointer-events:none;padding:0 16px;}
.caption-pill{
  max-width:92%;
  background:rgba(0,0,0,0.34);
  color:#fff;border:1px solid rgba(255,255,255,0.18);
  backdrop-filter:blur(16px);
  border-radius:999px;padding:10px 14px;
  font-size:14px;line-height:1.25;
  box-shadow:0 18px 40px rgba(0,0,0,0.22);
}
.caption-lightbox{
  position:absolute;left:18px;right:18px;bottom:18px;
  background:rgba(0,0,0,0.35);color:#fff;
  border:1px solid rgba(255,255,255,0.18);
  backdrop-filter:blur(16px);
  border-radius:18px;padding:12px 14px;font-size:14px;
}
.caption-area{
  border-radius:18px;padding:14px;
  background:linear-gradient(180deg,rgba(255,255,255,0.70),rgba(255,240,247,0.55));
  border:1px solid rgba(255,111,163,0.22);
  box-shadow:0 18px 40px rgba(255,111,163,0.10);
}
.caption-title{display:flex;align-items:center;gap:8px;font-weight:1000;}
.caption-body{margin-top:8px;font-size:14px;color:rgba(18,18,23,0.80);font-weight:800;}
.timeline-row{margin-top:18px;display:flex;gap:16px;align-items:center;}
.timeline-age{min-width:150px;text-align:right;color:rgba(18,18,23,0.55);font-weight:1000;}

/* Sidebar */
.sidebar.panel{
  padding:18px;border-radius:22px;
  background:rgba(255,255,255,0.58);
  border:1px solid rgba(255,111,163,0.18);
  backdrop-filter:blur(22px);
  box-shadow:0 22px 60px rgba(0,0,0,0.10);
}
.thumb-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;}
.thumb-grid img,.thumb-grid video{
  height:72px;object-fit:cover;border-radius:12px;
  cursor:pointer;border:2px solid transparent;
  transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease;
}
.thumb-grid img:hover,.thumb-grid video:hover{
  transform:scale(1.06) rotate(2deg);
  border-color:rgba(255,111,163,0.65);
  box-shadow:var(--neon-glow);
}

/* Gift */
.gift-wrap{display:flex;gap:16px;align-items:center;justify-content:center;padding:12px;}
.gift-box{
  width:130px;height:130px;border-radius:20px;
  background:linear-gradient(145deg,#ffeff6,#ffcce0);
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 20px 40px rgba(255,100,150,0.30);
  cursor:pointer;transition:all .6s cubic-bezier(.68,-0.55,.265,1.55);
  position:relative;
}
.gift-box::before{content:'ðŸŽ€';position:absolute;font-size:24px;animation:ribbonFloat 3s ease-in-out infinite;}
@keyframes ribbonFloat{0%,100%{transform:scale(1) rotate(0deg);}50%{transform:scale(1.1) rotate(180deg);}}
.gift-open{transform:rotateX(45deg) translateY(-10px) scale(1.05);box-shadow:0 30px 60px rgba(255,100,150,0.5), var(--neon-glow);}

/* Wish */
.wish-box{
  background:linear-gradient(180deg,rgba(255,255,255,0.75),rgba(255,240,247,0.65));
  border:1px solid rgba(255,111,163,0.25);
  border-radius:18px;padding:12px;
  box-shadow:0 14px 40px rgba(255,111,163,0.12);
}
.wish-textarea{
  width:100%;border-radius:14px;padding:12px;
  border:1px solid rgba(0,0,0,0.10);
  background:rgba(255,255,255,0.86);
  outline:none;resize:vertical;
}
.wish-textarea:focus{
  border-color:rgba(255,111,163,0.60);
  box-shadow:0 0 0 4px rgba(255,111,163,0.16);
}

/* Voice */
.voice-btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:12px 14px;border-radius:18px;
  font-weight:1000;color:#fff;
  background:linear-gradient(135deg,rgba(255,111,163,1),rgba(255,183,122,1));
  box-shadow:0 20px 40px rgba(255,111,163,0.18);
}
.voice-on{filter:saturate(1.2);}
.voice-tip{font-size:12px;color:rgba(18,18,23,0.62);font-weight:900;}

/* floating hearts */
.floating-hearts{position:fixed;inset:0;pointer-events:none;z-index:10;overflow:hidden;}
.heart{font-size:24px;filter:drop-shadow(0 8px 18px rgba(255,80,140,0.4));}

/* Modals */
.letter-modal{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center;
  z-index:80;background:rgba(0,0,0,0.60);
  backdrop-filter:blur(30px);
  padding:18px;
}
.letter-card{
  width:min(980px,96%);
  background:linear-gradient(145deg,rgba(255,255,255,0.96),rgba(255,250,246,0.90));
  border-radius:24px;padding:20px;
  box-shadow:var(--card-shadow),0 0 60px rgba(255,111,163,0.28);
  border:1px solid rgba(255,255,255,0.20);
}
.letter-scroll{max-height:min(86vh,780px);overflow:hidden;}
.letter-header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px;}
.letter-badge{
  font-size:12px;font-weight:1000;letter-spacing:0.12em;text-transform:uppercase;
  color:rgba(111,20,48,0.85);
  background:rgba(255,111,163,0.12);
  border:1px solid rgba(255,111,163,0.2);
  padding:6px 10px;border-radius:999px;
}
.letter-paper{
  border-radius:18px;padding:18px;
  background:linear-gradient(180deg,rgba(255,255,255,0.96),rgba(255,243,249,0.90));
  border:1px solid rgba(0,0,0,0.05);
  max-height:min(62vh,520px);
  overflow:auto;
}
.letter-text-pro{font-size:1.02rem;color:#5a0b25;line-height:1.78;letter-spacing:0.01em;font-weight:700;}

/* surprise popup */
.surprise-popup{
  position:fixed;right:18px;top:88px;z-index:120;
  width:min(360px,92vw);
  border-radius:22px;padding:14px;
  background:rgba(255,255,255,0.75);
  border:1px solid rgba(255,111,163,0.18);
  backdrop-filter:blur(22px);
  box-shadow:0 30px 80px rgba(0,0,0,0.20);
}
.surprise-emoji{font-size:28px;}
.surprise-title{margin-top:4px;font-weight:1000;}
.surprise-body{margin-top:6px;color:rgba(18,18,23,0.65);line-height:1.45;font-weight:900;}

/* confetti/fw */
.fw-canvas{position:fixed;inset:0;z-index:70;pointer-events:none;}
.confetti-root{position:fixed;inset:0;pointer-events:none;z-index:65;}

/* bottom control */
.control-strip{
  position:fixed;right:24px;bottom:24px;
  z-index:90;display:flex;gap:12px;align-items:center;
  backdrop-filter:blur(20px);
}

/* PASSWORD LOCK */
.lock-root{
  min-height:100vh;display:flex;align-items:center;justify-content:center;padding:22px;
  background:
    radial-gradient(circle at 20% 20%, rgba(255,111,163,0.28), transparent 55%),
    radial-gradient(circle at 80% 10%, rgba(255,183,122,0.22), transparent 55%),
    linear-gradient(180deg,#fff7fb,#fff);
}
.lock-card{
  width:min(520px,96%);
  border-radius:28px;padding:22px 20px;
  background:rgba(255,255,255,0.55);
  border:1px solid rgba(255,255,255,0.22);
  backdrop-filter:blur(24px);
  box-shadow:0 30px 70px rgba(0,0,0,0.18);
}
.lock-badge{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 12px;border-radius:999px;
  background:rgba(255,111,163,0.12);
  border:1px solid rgba(255,111,163,0.18);
  color:rgba(111,20,48,0.9);
  font-weight:1000;letter-spacing:0.08em;text-transform:uppercase;font-size:12px;
}
.lock-title{margin-top:14px;font-size:1.8rem;font-weight:1000;color:rgba(18,18,23,0.92);}
.lock-sub{margin-top:8px;color:rgba(18,18,23,0.68);line-height:1.5;font-weight:800;}
.lock-form{display:flex;gap:10px;margin-top:16px;}
.lock-input{
  flex:1;border-radius:16px;padding:12px;
  border:1px solid rgba(0,0,0,0.10);
  background:rgba(255,255,255,0.88);outline:none;
}
.lock-input:focus{border-color:rgba(255,111,163,0.6);box-shadow:0 0 0 4px rgba(255,111,163,0.18);}
.lock-btn{
  border-radius:16px;padding:12px 14px;
  font-weight:1000;color:#fff;
  background:linear-gradient(135deg,rgba(255,111,163,1),rgba(255,183,122,1));
  box-shadow:0 20px 40px rgba(255,111,163,0.22);
}
.lock-err{margin-top:10px;color:rgba(176,32,84,0.95);font-weight:1000;}
.lock-hint{margin-top:12px;font-size:12px;color:rgba(18,18,23,0.55);font-weight:800;}

/* ADMIN */
.admin-fab{position:fixed;left:18px;bottom:18px;z-index:95;}
.admin-fab-btn{
  width:48px;height:48px;border-radius:18px;
  background:rgba(255,255,255,0.75);
  border:1px solid rgba(255,111,163,0.20);
  box-shadow:0 20px 40px rgba(0,0,0,0.18);
  backdrop-filter:blur(18px);
}
.admin-drawer{
  position:fixed;left:18px;bottom:80px;z-index:96;
  width:min(420px,92vw);
  border-radius:24px;
  background:rgba(255,255,255,0.78);
  border:1px solid rgba(255,111,163,0.18);
  backdrop-filter:blur(22px);
  box-shadow:0 35px 80px rgba(0,0,0,0.22);
}
.admin-inner{padding:16px;}
.admin-title{font-weight:1000;font-size:16px;color:rgba(18,18,23,0.9);}
.admin-sub{font-size:12px;color:rgba(18,18,23,0.56);margin-top:4px;font-weight:800;}
.admin-row{display:flex;gap:10px;margin-top:12px;align-items:center;}
.admin-input{
  flex:1;border-radius:14px;padding:10px;
  border:1px solid rgba(0,0,0,0.10);
  background:rgba(255,255,255,0.9);
  outline:none;
}
.admin-btn{
  border-radius:14px;padding:10px 12px;
  background:linear-gradient(135deg,rgba(255,111,163,1),rgba(255,183,122,1));
  color:#fff;font-weight:1000;
}
.admin-err{margin-top:8px;color:rgba(176,32,84,0.95);font-weight:1000;}
.admin-section{margin-top:16px;padding-top:12px;border-top:1px dashed rgba(0,0,0,0.10);}
.admin-label{font-size:12px;font-weight:1000;letter-spacing:0.08em;text-transform:uppercase;color:rgba(18,18,23,0.62);}
.admin-chip{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 12px;border-radius:999px;
  background:rgba(255,111,163,0.10);
  border:1px solid rgba(255,111,163,0.20);
  font-weight:1000;
}
.admin-textarea{
  width:100%;border-radius:16px;padding:10px 12px;margin-top:10px;
  border:1px solid rgba(0,0,0,0.10);
  background:rgba(255,255,255,0.92);
  outline:none;resize:vertical;
}
.admin-note{margin-top:10px;font-size:12px;color:rgba(18,18,23,0.60);font-weight:800;}

/* VAULT FAB */
.vault-fab{position:fixed;left:18px;bottom:78px;z-index:94;}
.vault-fab-btn{
  width:48px;height:48px;border-radius:18px;
  background:rgba(255,255,255,0.75);
  border:1px solid rgba(255,111,163,0.20);
  box-shadow:0 20px 40px rgba(0,0,0,0.18);
  backdrop-filter:blur(18px);
  display:flex;align-items:center;justify-content:center;
}

/* ENDING FAB */
.ending-fab{position:fixed;left:18px;bottom:136px;z-index:94;}
.ending-fab-btn{
  width:48px;height:48px;border-radius:18px;
  background:rgba(255,255,255,0.75);
  border:1px solid rgba(255,111,163,0.20);
  box-shadow:0 20px 40px rgba(0,0,0,0.18);
  backdrop-filter:blur(18px);
  display:flex;align-items:center;justify-content:center;
}

/* VAULT MODAL */
.vault-row{margin-top:12px;display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
.vault-input{
  flex:1;border-radius:16px;padding:12px;
  border:1px solid rgba(0,0,0,0.10);
  background:rgba(255,255,255,0.88);
  outline:none;
}
.vault-err{margin-top:10px;color:rgba(176,32,84,0.95);font-weight:1000;}
.vault-grid{margin-top:14px;display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
.vault-item{border-radius:18px;overflow:hidden;border:1px solid rgba(0,0,0,0.06);background:rgba(255,255,255,0.65);}
.vault-thumb{width:100%;height:96px;object-fit:cover;}

/* CINEMATIC ENDING */
.ending-modal{
  position:fixed;inset:0;z-index:110;
  background:rgba(0,0,0,0.85);
  display:flex;align-items:center;justify-content:center;
  padding:16px;
}
.ending-screen{
  width:min(980px,96%);
  border-radius:24px;
  background:linear-gradient(180deg, rgba(10,10,16,0.92), rgba(0,0,0,0.92));
  border:1px solid rgba(255,255,255,0.10);
  box-shadow:0 50px 120px rgba(0,0,0,0.5);
  overflow:hidden;
}
.ending-header{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  padding:14px 16px;border-bottom:1px solid rgba(255,255,255,0.10);
}
.ending-badge{
  display:inline-flex;align-items:center;gap:8px;
  color:#fff;font-weight:1000;font-size:12px;
  letter-spacing:0.12em;text-transform:uppercase;
  opacity:0.9;
}
.ending-close{
  padding:10px 12px;border-radius:14px;
  background:rgba(255,255,255,0.10);
  color:#fff;font-weight:1000;
  border:1px solid rgba(255,255,255,0.12);
}
.ending-stage{
  position:relative;
  height:min(72vh, 680px);
  background: radial-gradient(circle at 50% 20%, rgba(255,111,163,0.15), transparent 45%);
  overflow:hidden;
}
.credits{
  position:absolute;left:0;right:0;
  text-align:center;
  padding: 80px 18px;
  color:#fff;
}
.credits-title{
  font-size:32px;font-weight:1000;letter-spacing:-0.02em;
  margin-bottom: 28px;
}
.credits-line{
  font-size:18px;font-weight:900;
  opacity:0.9;
  margin: 10px 0;
}
.credits-gap{height:22px;}
.ending-footer{
  padding:14px 16px;border-top:1px solid rgba(255,255,255,0.10);
  display:flex;justify-content:center;
}
.ending-btn{
  display:inline-flex;align-items:center;gap:10px;
  padding:12px 14px;border-radius:18px;
  color:#111;font-weight:1000;
  background:linear-gradient(135deg, rgba(255,111,163,1), rgba(255,183,122,1));
  box-shadow:0 30px 80px rgba(255,111,163,0.25);
}

/* Responsive */
@media (max-width:980px){
  .pro-hero{padding:20px;}
  .pro-title{font-size:2rem;}
  .pro-grid{grid-template-columns:1fr;gap:20px;}
  .thumb-grid{grid-template-columns:repeat(6,1fr);}
  .engage-grid{grid-template-columns:1fr;}
  .hidden-grid{grid-template-columns:1fr;}
  .vault-grid{grid-template-columns:repeat(2,1fr);}
}
@media (max-width:600px){
  .pro-hero{flex-direction:column;align-items:stretch;gap:16px;}
  .gallery-stage{height:clamp(280px,45vh,420px);}
  .pro-title{font-size:1.7rem;text-align:center;}
}


/* Love toast */
.love-toast{
  position: fixed;
  left: 50%;
  bottom: 110px;
  transform: translateX(-50%);
  z-index: 120;
  padding: 12px 16px;
  border-radius: 999px;
  background: rgba(255,255,255,0.92);
  border: 1px solid rgba(255,255,255,0.5);
  box-shadow: 0 30px 70px rgba(0,0,0,0.20), 0 0 30px rgba(255,111,163,0.25);
  font-weight: 800;
  color: rgba(18,18,23,0.86);
  backdrop-filter: blur(18px);
}

/* Gemini constellation */
.constellation-root{
  position:fixed;right:22px;top:120px;z-index:130;width:260px;height:160px;pointer-events:none;
}
.constellation-canvas{position:relative;width:100%;height:100%;pointer-events:none}
.constellation-svg{position:absolute;inset:0;width:100%;height:100%;opacity:0.9}
.constellation-star{
  position:absolute;transform:translate(-50%,-50%);background:transparent;border:none;color:rgba(255,255,255,0.95);
  font-size:18px;cursor:pointer;text-shadow:0 6px 18px rgba(255,111,163,0.22);pointer-events:auto;display:flex;flex-direction:column;align-items:center;gap:6px
}
.constellation-star:hover{transform:translate(-50%,-50%) scale(1.06);}
.constellation-dot{width:14px;height:14px;border-radius:999px;background:linear-gradient(135deg,#ffd54a,#ffcc33);box-shadow:0 10px 26px rgba(255,204,51,0.18);border:2px solid rgba(255,255,255,0.85)}
.constellation-label{font-size:11px;color:rgba(255,255,255,0.9);font-weight:800;text-shadow:0 2px 6px rgba(0,0,0,0.28);}

.constellation-modal{position:fixed;inset:0;z-index:220;display:flex;align-items:center;justify-content:center}
.constellation-modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(10px);}
.constellation-modal-card{position:relative;z-index:230;max-width:960px;width:94%;border-radius:18px;overflow:hidden;background:linear-gradient(145deg,rgba(255,255,255,0.98),rgba(255,250,251,0.95));box-shadow:0 40px 120px rgba(0,0,0,0.45);padding:18px;border:1px solid rgba(255,255,255,0.6);}
.constellation-modal-header{display:flex;justify-content:flex-end}
.constellation-close{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:8px 10px;border-radius:12px;cursor:pointer;font-weight:800}
.constellation-modal-body{display:flex;align-items:center;gap:12px;justify-content:center;padding:8px}
.constellation-nav{background:linear-gradient(135deg,rgba(255,111,163,1),rgba(255,183,122,1));color:#fff;border:none;padding:10px 12px;border-radius:12px;cursor:pointer;font-size:20px}
.constellation-nav.left{min-width:48px}
.constellation-nav.right{min-width:48px}
.constellation-img-wrap{max-width:76%;display:flex;flex-direction:column;align-items:center;gap:8px}
.constellation-img-wrap img{width:100%;max-height:68vh;object-fit:contain;border-radius:12px}
.constellation-caption{font-weight:900;color:rgba(18,18,23,0.72);font-size:14px}

/* badge */
.constellation-badge{
  position:absolute;left:6px;top:6px;padding:6px 8px;border-radius:999px;background:linear-gradient(90deg,rgba(255,255,255,0.9),rgba(255,240,247,0.9));font-weight:900;color:rgba(18,18,23,0.7);font-size:12px;border:1px solid rgba(255,255,255,0.6);box-shadow:0 12px 40px rgba(0,0,0,0.12)
}


/* Open When */
.openwhen-grid{ display:grid; grid-template-columns: repeat(2,minmax(0,1fr)); gap:14px; margin-top:14px; }
@media(max-width:720px){ .openwhen-grid{ grid-template-columns: 1fr; } }
.openwhen-card{
  border-radius: 20px;
  padding: 16px;
  background: linear-gradient(145deg, rgba(255,255,255,0.95), rgba(255,247,251,0.75));
  border: 1px solid rgba(255,255,255,0.5);
  padding-bottom: 14px;
  cursor:pointer;
  box-shadow: 0 18px 60px rgba(0,0,0,0.08);
}
.openwhen-title{ font-weight: 900; font-size: 15px; }
.openwhen-body{ margin-top:10px; color: rgba(18,18,23,0.72); font-weight: 700; line-height:1.4; }
.openwhen-footer{ margin-top: 10px; font-size: 12px; color: rgba(18,18,23,0.55); font-weight: 800; }

/* Wheel */
.wheel-wrap{ position: relative; display:flex; justify-content:center; align-items:center; padding: 18px 0; }
.wheel{
  width: 320px; height: 320px; border-radius: 999px;
  background: conic-gradient(from 0deg, rgba(255,111,163,0.95), rgba(255,183,122,0.95), rgba(122,210,255,0.9), rgba(255,111,163,0.95));
  border: 10px solid rgba(255,255,255,0.85);
  box-shadow: 0 30px 90px rgba(0,0,0,0.18), 0 0 40px rgba(255,111,163,0.25);
  position: relative;
  overflow:hidden;
}
.wheel-slice{ position:absolute; inset:0; display:flex; align-items:flex-start; justify-content:center; }
.wheel-slice span{
  margin-top: 20px;
  font-weight: 1000;
  font-size: 12px;
  color: rgba(255,255,255,0.98);
  text-shadow: 0 10px 24px rgba(0,0,0,0.35);
}
.wheel-pointer{
  position:absolute;
  top: 10px;
  font-weight: 1000;
  color: rgba(255,255,255,0.95);
  text-shadow: 0 10px 26px rgba(0,0,0,0.35);
}
.wheel-result{
  flex: 1;
  min-width: 260px;
  padding: 14px 16px;
  border-radius: 18px;
  background: rgba(255,255,255,0.80);
  border: 1px solid rgba(255,255,255,0.55);
  box-shadow: 0 18px 60px rgba(0,0,0,0.08);
  font-weight: 900;
  color: rgba(18,18,23,0.78);
}

/* Puzzle */
.puzzle-wrap{ margin-top: 12px; display:grid; grid-template-columns: 1.2fr 1fr; gap: 16px; align-items: stretch; }
@media(max-width:900px){ .puzzle-wrap{ grid-template-columns: 1fr; } }
.puzzle-photo{
  position:relative; border-radius: 22px; overflow:hidden; height: 420px;
  box-shadow: inset 0 0 60px rgba(0,0,0,0.12), 0 26px 80px rgba(0,0,0,0.14);
  filter: blur(16px) brightness(0.8);
  transform: scale(1.02);
  transition: all 650ms ease;
}
.puzzle-photo img{ width:100%; height:100%; object-fit: contain; }
.puzzle-photo.puzzle-solved{ filter: blur(0px) brightness(1); transform: scale(1); }
.puzzle-lock{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  font-size: 56px;
  background: rgba(0,0,0,0.25);
}
.puzzle-card{
  border-radius: 22px;
  padding: 18px;
  background: linear-gradient(145deg, rgba(255,255,255,0.92), rgba(255,247,251,0.76));
  border: 1px solid rgba(255,255,255,0.55);
  box-shadow: 0 18px 60px rgba(0,0,0,0.08);
}
.puzzle-slider{ width:100%; margin-top: 18px; }

/* Montage */
.montage-stage{
  height: 72vh;
  border-radius: 22px;
  overflow:hidden;
  background: #090912;
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 30px 100px rgba(0,0,0,0.35);
  position: relative;
}
.montage-media{ width:100%; height:100%; position:relative; }
.montage-media img{ width:100%; height:100%; object-fit: contain; }
.montage-caption{
  position:absolute; left:18px; right:18px; bottom:18px;
  padding: 12px 14px;
  border-radius: 18px;
  background: rgba(0,0,0,0.45);
  border: 1px solid rgba(255,255,255,0.16);
  color: white;
  font-weight: 1000;
  backdrop-filter: blur(18px);
}


.now-playing{
  background: rgba(255,255,255,0.75);
  border: 1px solid rgba(255,255,255,0.55);
  box-shadow: 0 18px 60px rgba(0,0,0,0.08);
}
.now-playing .dot{
  width: 10px; height: 10px; border-radius: 999px;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  box-shadow: 0 0 22px rgba(255,111,163,0.55);
}
.fav-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.fav-remove{
  position:absolute; top:6px; right:6px;
  width: 28px; height: 28px; border-radius: 999px;
  background: rgba(255,255,255,0.92);
  border: 1px solid rgba(255,255,255,0.7);
  font-weight: 1000;
  box-shadow: 0 12px 30px rgba(0,0,0,0.14);
}
.hunt-layer{ position: fixed; inset: 0; z-index: 25; }
.hunt-heart{ cursor: pointer; 
  position:absolute;
  transform: translate(-50%, -50%);
  font-size: 22px;
  padding: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.70);
  border: 1px solid rgba(255,255,255,0.55);
  box-shadow: 0 18px 60px rgba(0,0,0,0.08);
  animation: huntPulse 1.6s ease-in-out infinite;
}
.hunt-heart.hunt-found{ opacity: 0.18; animation: none; }
@keyframes huntPulse{ 0%,100%{ transform: translate(-50%,-50%) scale(1); } 50%{ transform: translate(-50%,-50%) scale(1.14); } }


/* Rose petals */
.petals{ position: fixed; inset: 0; pointer-events:none; z-index: 11; overflow:hidden; }
.petals-off{ display:none; }
.petal{ position:absolute; font-size: 20px; filter: drop-shadow(0 10px 24px rgba(255,80,140,0.22)); opacity:0.85; }

/* Bottle */
.bottle-stage{
  position: relative;
  height: 520px;
  border-radius: 24px;
  overflow:hidden;
  background: radial-gradient(circle at 50% 30%, rgba(122,210,255,0.22), transparent 55%),
              linear-gradient(180deg, rgba(255,247,251,0.65), rgba(255,255,255,0.9));
  border: 1px solid rgba(255,255,255,0.55);
  box-shadow: 0 30px 90px rgba(0,0,0,0.12);
}
.bottle{
  position:absolute;
  left:50%; top:50%;
  transform: translate(-50%,-55%);
  width: 320px;
}
.bottle-neck{
  width: 120px; height: 46px;
  margin: 0 auto;
  border-radius: 16px 16px 18px 18px;
  background: rgba(255,255,255,0.65);
  border: 1px solid rgba(255,255,255,0.65);
  box-shadow: inset 0 0 26px rgba(255,111,163,0.15);
}
.bottle-body{
  margin-top: -10px;
  height: 380px;
  border-radius: 32px;
  background: rgba(255,255,255,0.35);
  border: 1px solid rgba(255,255,255,0.65);
  backdrop-filter: blur(18px);
  box-shadow: 0 30px 90px rgba(0,0,0,0.18);
  overflow:hidden;
  position: relative;
}
.bottle-glow{
  position:absolute; inset:-40px;
  background: radial-gradient(circle at 40% 30%, rgba(255,111,163,0.25), transparent 55%),
              radial-gradient(circle at 70% 50%, rgba(255,183,122,0.18), transparent 55%);
  filter: blur(28px);
}
.bottle-scroll{
  position:absolute;
  left: 18px; right: 18px;
  top: 26px;
  border-radius: 22px;
  padding: 18px;
  background: rgba(255,255,255,0.85);
  border: 1px solid rgba(255,255,255,0.65);
  box-shadow: 0 18px 60px rgba(0,0,0,0.10);
}
.scroll-title{ font-weight: 1000; font-size: 18px; }
.scroll-text{ margin-top: 10px; font-weight: 800; color: rgba(18,18,23,0.72); line-height: 1.5; }
.scroll-sign{ font-weight: 1000; color: rgba(111,20,48,0.75); }
.bottle-water{
  position:absolute; inset:0;
  pointer-events:none;
  opacity: 0.85;
}
.bubble{
  position:absolute;
  width: 10px; height: 10px;
  border-radius: 999px;
  background: rgba(122,210,255,0.30);
  border: 1px solid rgba(255,255,255,0.5);
  box-shadow: 0 18px 40px rgba(0,0,0,0.10);
}

.montage-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.credits-stage{
  height: 520px;
  border-radius: 24px;
  overflow:hidden;
  background: radial-gradient(circle at 50% 20%, rgba(255,111,163,0.18), transparent 55%),
              linear-gradient(180deg, rgba(18,18,23,0.95), rgba(18,18,23,0.86));
  border: 1px solid rgba(255,255,255,0.10);
  position: relative;
  box-shadow: 0 40px 140px rgba(0,0,0,0.45);
}
.credits-roll{
  position:absolute; left:0; right:0;
  text-align:center;
  color: rgba(255,255,255,0.92);
  font-family: var(--font-heading);
  padding: 30px 16px;
}
.credits-title{
  font-size: 42px;
  font-weight: 900;
  margin-bottom: 20px;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  -webkit-background-clip: text;
  background-clip:text;
  color: transparent;
}
.credits-line{ font-size: 18px; margin: 10px 0; opacity: 0.95; }

/* Ensure sidebar remains clickable */
.sidebar{ pointer-events:auto; }
.sidebar .panel{ pointer-events:auto; }

.pro-grid, .pro-main{ pointer-events:auto; }

/* Fix overlays blocking clicks */
.petals{ pointer-events:none !important; }
.hunt-layer{ pointer-events:none !important; }
.hunt-heart{ pointer-events:auto !important; }
.confetti-root{ pointer-events:none !important; }
.fw-canvas{ pointer-events:none !important; }
.floating-hearts{ pointer-events:none !important; }

.sidebar{ position: relative; z-index: 50; }

/* Constellation */
.constellation-preview{ max-width: 760px; margin: 0 auto; }
.constellation-card{
  position: relative;
  border-radius: 26px;
  overflow:hidden;
  height: 380px;
  background: radial-gradient(circle at 50% 20%, rgba(122,210,255,0.22), transparent 55%),
              linear-gradient(180deg, rgba(18,18,23,0.92), rgba(18,18,23,0.86));
  border: 1px solid rgba(255,255,255,0.12);
  box-shadow: 0 30px 120px rgba(0,0,0,0.35);
}
.constellation-bg{
  position:absolute; inset:0;
  background-image:
    radial-gradient(circle at 12% 22%, rgba(255,255,255,0.6) 0.5px, transparent 1.5px),
    radial-gradient(circle at 38% 48%, rgba(255,255,255,0.5) 0.5px, transparent 1.5px),
    radial-gradient(circle at 74% 28%, rgba(255,255,255,0.5) 0.5px, transparent 1.5px),
    radial-gradient(circle at 84% 62%, rgba(255,255,255,0.45) 0.5px, transparent 1.5px),
    radial-gradient(circle at 16% 70%, rgba(255,255,255,0.45) 0.5px, transparent 1.5px);
  opacity: 0.75;
}
.constellation-svg{ position:absolute; inset:0; width:100%; height:100%; }
.constellation-caption{
  position:absolute; left:18px; bottom:16px;
  padding: 10px 14px;
  border-radius: 18px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.14);
  color:white;
  backdrop-filter: blur(16px);
}
.constellation-modal-grid{ display:grid; grid-template-columns: repeat(2,1fr); gap: 12px; }
@media (min-width: 880px){ .constellation-modal-grid{ grid-template-columns: repeat(4,1fr); } }
